–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π

–û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è–º–∏, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞.API –ø–æ–∑–≤–æ–ª—è–µ—Ç:

üîê –î–æ–±–∞–≤–ª—è—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

üîì –ü–æ–ª—É—á–∞—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞.

üîé –ò—Å–∫–∞—Ç—å –ø–∞—Ä–æ–ª–∏ –ø–æ —á–∞—Å—Ç–∏—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –Ω–∞–∑–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.

–ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ, –∞ —Å–∞–º –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker Compose.

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
<pre>
.
‚îú‚îÄ‚îÄ app.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ config             
‚îÇ   ‚îú‚îÄ‚îÄ config.py       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ core
‚îÇ   ‚îú‚îÄ‚îÄ database.py     # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models.py       # –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ø–∞—Ä–æ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py      # Pydantic-—Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ routers.py      # –û—Å–Ω–æ–≤–Ω—ã–µ —Ä—É—á–∫–∏ API
‚îú‚îÄ‚îÄ queries
‚îÇ   ‚îú‚îÄ‚îÄ orm.py          # –ó–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ orm –∫ –±–∞–∑–µ
‚îú‚îÄ‚îÄ tests
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     
‚îÇ   ‚îú‚îÄ‚îÄ test_api.py     # –¢–µ—Å—Ç—ã API
‚îú‚îÄ‚îÄ Dockerfile          # –û–±—Ä–∞–∑ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml  # –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ Docker
‚îú‚îÄ‚îÄ .env                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
</pre>

‚úÖ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π 
<pre>
git clone —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏
</pre>

2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª .env

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞ —Ç–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

.env:

    DB_NAME=password_manager
    DB_USER=postgres
    DB_PASS=postgres
    DB_HOST=db
    DB_PORT=5432

    SECRET_KEY=supersecretkey

–í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–µ–π generate_key() –∏–∑ —Ñ–∞–π–ª–∞ core/—Årypto.py,
—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å SECRET_KEY

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
<pre>
docker-compose up --build
</pre>
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ –ø–æ—Ä—Ç—É: 5432

FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É: 8000

üî• –ü—Ä–æ–≤–µ—Ä–∫–∞ API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API —Å –ø–æ–º–æ—â—å—é Postman, cURL –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.

üìÑ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ:üëâ http://localhost:8000/docs

üöÄ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

1. –î–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞

POST /password/{service_name}
<pre>
curl -X POST "http://localhost:8000/password/google" \
-H "Content-Type: application/json" \
-d '{
  "password": "very_secret_pass"
}'
</pre>

–û—Ç–≤–µ—Ç:

<pre>{
  "password": "very_secret_pass", 
  "service_name": "google"
}
</pre>

2. –ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞

GET /password/{service_name}
<pre>
curl -X GET "http://localhost:8000/password/google"
</pre>
–û—Ç–≤–µ—Ç:
<pre>
{
  "password": "very_secret_pass",
  "service_name": "google"
}
</pre>
3. –ù–∞–π—Ç–∏ –ø–∞—Ä–æ–ª–∏ –ø–æ —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞

GET /password/?service_name=goo
<pre>
curl -X GET "http://localhost:8000/password/?service_name=goo"
</pre>
–û—Ç–≤–µ—Ç:
<pre>
[
  {
    "password": "very_secret_pass",
    "service_name": "google"
  }
]
</pre>
